# نظام خدمة المستفيدين (كونترات) - نسخة LAN

نظام يعمل على الشبكة المحلية (LAN) لتقديم خدمة المستفيد عبر:
- كشك أخذ رقم + طباعة رقم/باركود
- توزيع ذكي على الكونترات (Least-Loaded)
- شاشة موظف الكونتر لإدارة الطابور وإغلاق التذكرة
- شاشة عرض أرقام (TV) عامة + شاشة رقم خاصة بكل كونتر
- شاشة تقييم بعد إغلاق التذكرة

## المتطلبات
- Node.js 18+ (يفضل 20)

## التشغيل
```bash
npm install
npm start
```

## الروابط
- Admin:               http://localhost:3000/admin
- Kiosk:               http://localhost:3000/kiosk
- Counter (login):     http://localhost:3000/counter/login
- Feedback:            http://localhost:3000/feedback
- Display TV (عام):    http://localhost:3000/display
- Display (لكونتر):    http://localhost:3000/display/counter/1  (غيّر الرقم حسب الكونتر)

## حسابات افتراضية
- Admin:
  - username: admin
  - password: admin123
- موظف كونتر:
  - username: emp01
  - password: 1234

## أهم الميزات
- **إضافة/تعديل الخدمات** من لوحة الإدارة (مع خيار إظهارها بالكشك).
- **تسجيل الموظفين (المستخدمين)** من لوحة الإدارة: إضافة، تفعيل/إيقاف، تغيير الدور وكلمة المرور.
- **الكشك**: اختيار لغة (عربي/إنجليزي) + إدخال رقم الهوية/الإقامة + فئة المستفيد + طلب سابق (اختياري/إجباري للمتابعة) ثم اختيار الخدمة.
- **تكبير الشاشة**: زر Fullscreen مع شاشة بدء (لأن أغلب المتصفحات تتطلب ضغط المستخدم لتفعيل fullscreen).
- بعد إصدار الرقم في الكشك يتم عرض صفحة التذكرة مع **عدّاد 15 ثانية** ثم الرجوع للكشك تلقائيًا.
- **شاشة الكونتر** تعرض رابط شاشة رقم الكونتر لفتحها على شاشة ثانية.

## التخزين
- قاعدة البيانات محلية JSON: `data/db.json`

## ملاحظات تشغيلية
- الكشك يعتمد على وجود كونترات نشطة (موظف مسجّل دخول) ليتم التوزيع عليها.
- إعدادات الراحة الافتراضية بعد الإغلاق من الإدارة (افتراضي: 30 ثانية).
- يوم لقاء المسؤول افتراضيًا: الخميس (قابل للتعديل).
- مدة الموعد: 15 دقيقة.
