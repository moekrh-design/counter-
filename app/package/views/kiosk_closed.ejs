<!doctype html>
<html lang="<%= lang %>" dir="<%= (lang==='ar') ? 'rtl' : 'ltr' %>">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title><%= lang==='en' ? 'Outside working hours' : (lang==='fr' ? 'Hors horaires de travail' : (lang==='zh' ? 'éžå·¥ä½œæ—¶é—´' : 'Ø®Ø§Ø±Ø¬ ÙˆÙ‚Øª Ø§Ù„Ø¯ÙˆØ§Ù…')) %></title>
  <link id="bsLtr" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link id="bsRtl" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet" <%= (lang==='ar') ? '' : 'disabled' %> >
  <link href="/public/app.css" rel="stylesheet">
  <link href="/public/moe-ui.css" rel="stylesheet">
  <style>
    .closed-hero{ max-width: 920px; }
    .closed-icon{ width:72px; height:72px; display:grid; place-items:center; border-radius:18px; background: rgba(21,68,90,.10); color:#15445a; }
    [data-theme='dark'] .closed-icon{ background: rgba(255,255,255,.10); color: rgba(255,255,255,.92); }
    .closed-meta{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
    .closed-pill{ padding:10px 14px; border-radius: 999px; border: 1px solid rgba(21,68,90,.18); background: rgba(21,68,90,.06); font-weight:700; }
    [data-theme='dark'] .closed-pill{ border-color: rgba(255,255,255,.18); background: rgba(255,255,255,.08); }
    .lang-mini{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
    .lang-mini .btn{ min-width: 170px; }
  </style>
</head>

<body class="kiosk-body kiosk-full" data-theme="<%= (ui && ui.theme) ? ui.theme : 'dark' %>">
  <div class="kiosk-shell kiosk-shell-center">
    <header class="kiosk-header kiosk-header-slim kiosk-brand-header">
      <div class="kiosk-brand">
        <div class="kiosk-brand-logo">
          <% if (branding && branding.logo_path) { %>
            <img alt="logo" src="<%= branding.logo_path %>" class="kiosk-logo-img" />
          <% } else { %>
            <div class="moe-badge">MOE</div>
          <% } %>
        </div>
        <div class="kiosk-brand-text">
          <div class="kiosk-title"><%=
            (lang==='ar') ? (branding.org_name_ar || 'ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…') :
            (lang==='en') ? (branding.org_name_en || 'Ministry of Education') :
            (lang==='fr') ? (branding.org_name_fr || branding.org_name_en || 'Ministry of Education') :
            (lang==='zh') ? (branding.org_name_zh || branding.org_name_en || 'Ministry of Education') :
            (branding.org_name_ar || 'ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…')
          %></div>
          <div class="kiosk-subtitle"><%=
            (lang==='ar') ? (branding.org_unit_ar || 'Ù…ÙƒØªØ¨ Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†') :
            (lang==='en') ? (branding.org_unit_en || 'Beneficiary Services') :
            (lang==='fr') ? (branding.org_unit_fr || branding.org_unit_en || 'Beneficiary Services') :
            (lang==='zh') ? (branding.org_unit_zh || branding.org_unit_en || 'Beneficiary Services') :
            (branding.org_unit_ar || 'Ù…ÙƒØªØ¨ Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†')
          %></div>
        </div>
      </div>
    </header>

    <main class="kiosk-stage">
      <div class="kiosk-card-hero closed-hero">
        <div class="d-flex align-items-center justify-content-center gap-3 flex-wrap">
          <div class="closed-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 8v5l3 2" stroke="currentColor" stroke-width="1.9" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z" stroke="currentColor" stroke-width="1.9"/>
            </svg>
          </div>
          <div class="text-center">
            <div class="kiosk-hero-title">
              <%= lang==='en' ? 'Outside working hours' : (lang==='fr' ? 'Hors horaires de travail' : (lang==='zh' ? 'å½“å‰ä¸ºéžå·¥ä½œæ—¶é—´' : 'Ø§Ù„Ù…Ù†Ø¸ÙˆÙ…Ø© Ø®Ø§Ø±Ø¬ ÙˆÙ‚Øª Ø§Ù„Ø¹Ù…Ù„')) %>
            </div>
            <div class="kiosk-hero-sub" style="max-width:720px; margin: 0 auto;">
              <%= lang==='en'
                  ? 'We accept requests during official working hours only. The service will resume automatically at the start of working hours.'
                  : (lang==='fr'
                      ? 'Les demandes sont acceptÃ©es uniquement pendant les heures de travail. Le service reprendra automatiquement au dÃ©but des horaires.'
                      : (lang==='zh'
                          ? 'ä»…åœ¨å·¥ä½œæ—¶é—´å†…å—ç†è¯·æ±‚ã€‚ç³»ç»Ÿå°†åœ¨å·¥ä½œå¼€å§‹æ—¶è‡ªåŠ¨æ¢å¤æœåŠ¡ã€‚'
                          : 'Ù†Ø¹ØªØ°Ø±ØŒ Ù„Ø§ ÙŠØªÙ… Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø®Ø§Ø±Ø¬ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù…. Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù….')) %>
            </div>
          </div>
        </div>

        <div class="closed-meta mt-4">
          <div class="closed-pill">
            <%= lang==='en' ? 'Working hours' : (lang==='fr' ? 'Heures de travail' : (lang==='zh' ? 'å·¥ä½œæ—¶é—´' : 'Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ù…')) %>
            : <%= (work_hours && work_hours.start_time) ? work_hours.start_time : '07:30' %> â€“ <%= (work_hours && work_hours.end_time) ? work_hours.end_time : '14:30' %>
          </div>
          <div class="closed-pill">
            <%
              const dayNamesAr = ['Ø§Ù„Ø£Ø­Ø¯','Ø§Ù„Ø§Ø«Ù†ÙŠÙ†','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡','Ø§Ù„Ø®Ù…ÙŠØ³','Ø§Ù„Ø¬Ù…Ø¹Ø©','Ø§Ù„Ø³Ø¨Øª'];
              const dayNamesEn = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
              const days = (work_hours && Array.isArray(work_hours.days) && work_hours.days.length) ? work_hours.days.map(Number).filter(x=>x>=0&&x<=6) : [0,1,2,3,4];
              const label = (lang==='en') ? 'Working days' : (lang==='fr' ? 'Jours ouvrables' : (lang==='zh' ? 'å·¥ä½œæ—¥' : 'Ø£ÙŠØ§Ù… Ø§Ù„Ø¯ÙˆØ§Ù…'));
              const names = (lang==='en') ? dayNamesEn : dayNamesAr;
              const list = days.map(d=>names[d] || '').filter(Boolean).join(' â€¢ ');
            %>
            <%= label %>: <%= list %>
          </div>
          <div class="closed-pill">
            <%= lang==='en' ? 'Current time' : (lang==='fr' ? 'Heure actuelle' : (lang==='zh' ? 'å½“å‰æ—¶é—´' : 'Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ')) %>
            : <%= (now && now.date) ? now.date : '' %> <%= (now && now.time) ? now.time.slice(0,5) : '' %>
          </div>
        </div>

        <div class="muted mt-3 text-center" style="font-size:1rem">
          <%= lang==='en' ? 'Thank you for your understanding.' : (lang==='fr' ? 'Merci de votre comprÃ©hension.' : (lang==='zh' ? 'æ„Ÿè°¢æ‚¨çš„ç†è§£ã€‚' : 'Ø´ÙƒØ±Ù‹Ø§ Ù„ØªÙÙ‡Ù…ÙƒÙ… ðŸŒ¿')) %>
        </div>

        <div class="lang-mini mt-4">
          <a class="btn btn-outline-moe btn-lg" href="/kiosk?lang=ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a>
          <a class="btn btn-outline-moe btn-lg" href="/kiosk?lang=en">English</a>
          <a class="btn btn-outline-moe btn-lg" href="/kiosk?lang=fr">FranÃ§ais</a>
          <a class="btn btn-outline-moe btn-lg" href="/kiosk?lang=zh">ä¸­æ–‡</a>
        </div>

        <div class="mt-4 text-center">
          <a class="btn btn-moe btn-lg" href="/kiosk?lang=<%= lang %>">
            <%= lang==='en' ? 'Back to start' : (lang==='fr' ? 'Retour Ã  l\'accueil' : (lang==='zh' ? 'è¿”å›žé¦–é¡µ' : 'Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©')) %>
          </a>
        </div>
      </div>
    </main>
  </div>
</body>
</html>
